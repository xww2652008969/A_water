#!/bin/bash
mkdir .1
j=0
for i in `find *.java`
do
    a[j]=$i
     j=`expr $j + 1`
     #遍历java文件
done
l=0
echo "************************************************************"
echo "*                    以下是本文件可识别的java文件          *"
echo "************************************************************"
while ((l < ${#a[*]}))
do
echo "                      $l. "${a[l]}
     l=`expr $l + 1`
done
read l
javac -d .1 ${a[l]}
javac  ${a[l]} > /dev/null 2>&1
echo "************************************************************"
echo "*                     生成以下类 按数字键执行          *"
echo "************************************************************"
cd .1
rename 's/.class//' * #清楚后缀
j=0
for i in `ls`
do 
      b[j]=$i
       j=`expr $j + 1`
done
cd ..
l=0
while ((l < ${#b[*]}))
do 
echo "$l. "${b[l]}
     l=`expr $l + 1`
done
read l
echo "************************************************************"
echo "*                       程序已经执行                       *"
echo "************************************************************"
java ${b[l]}
rm -rf .1
echo "按任意建继续"
read 